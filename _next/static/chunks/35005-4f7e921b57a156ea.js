(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[35005],{72431:function(){},45144:function(e,t,a){"use strict";a.d(t,{Z:function(){return PresalePage}});var l=a(57437),s=a(49795),i=a(28600),n=a(31027),r=a(51085),c=a(34100),d=a(78874),o=a(4803),x=a(33170),m=a(77398),h=a(39505),p=a(46802),u=a(53039),f=a(14837),b=a(47596),g=a(91934);a(84806);var j=a(2265),v=a(5908),w=a(63438),N=a(71424),y=a(3446),k=a(72086),T=a(48035),P=a(49150),S=a(24086),C=a(24923),M=a(89627),F=a(70662),A=a(54947),I=a(70560),_=a(92558);function PresalePage(e){let{data:t,address:a,thirdClient:D}=e,B=new w.ew("https://wallet.okx.com/fullnode/sol/discover/rpc"),z=(0,y.O)(),G=(0,k.R)(),E=(0,C.Osb)(),O=[{title:"Contract Address",value:t.address,copy:!0},{title:"Token Name",value:t.title},{title:"Chain",value:(0,l.jsxs)("div",{className:"flex gap-2 items-center",children:[P.zG[t.chain].name," ",(0,l.jsx)("img",{src:P.zG[t.chain].icon,className:"h-4"})]})},{title:"Symbol",value:"$"+t.ticker},{title:"Total Supply",value:t.supply.toLocaleString("en-us")},{title:"Decimals",value:"9"}],[L,W]=(0,j.useState)(t.minBuy),[J,U]=(0,j.useState)(null),[R,Y]=(0,j.useState)(null),[Q,V]=(0,j.useState)(null),[X,q]=(0,j.useState)(null);function isWithin15Minutes(){let e=t.whitelistPeriod||9e5,a=Date.now(),l=a-t.startTimestamp;return!(l<0)&&l<=e}function InfoTable(e){let{rows:t}=e;return(0,l.jsxs)(s.b,{classNames:{wrapper:"shadow-none p-0 rounded-none bg-transparent",thead:"hidden",th:"hidden",tr:"border-none"},children:[(0,l.jsxs)(i.J,{children:[(0,l.jsx)(n.j,{}),(0,l.jsx)(n.j,{})]}),(0,l.jsx)(r.y,{children:t.map(e=>(0,l.jsxs)(c.g,{className:"flex justify-between",children:[(0,l.jsx)(d.X,{className:"break-words",children:e.title}),(0,l.jsx)(d.X,{className:"text-right",children:e.copy?(0,l.jsx)(o.e,{color:"danger",isDisabled:!e.tooltip,content:e.tooltip,children:(0,l.jsx)(x.Z,{codeString:e.value||"",size:"sm",symbol:"⚠️",children:e.value?e.value.slice(0,4)+"...."+e.value.slice(-4):"Coming Soon"})}):e.value})]}))})]})}async function confirmTransaction(e){let t;for(let a=0;a<60;a++){try{if(console.log("trying"),t=await B.getTransaction(e,{commitment:"finalized"}))break}catch(e){N.A.error("Confirmation Error",{description:e})}await new Promise(e=>setTimeout(e,2e3))}return t}async function AfterPayment(e){let l=Number(J)+Number(L);await (0,S.r7)((0,S.JU)(v.fb,"/pad-fillings/"+t.id),{filled:(0,S.nP)(Number(L))}),(0,v.i)(a,t.id,L,()=>{U(l),N.A.success("Transaction successful",{description:e,descriptionClassName:"pointer-events-all"}),Y(parseFloat(Math.max(R-L,0).toFixed(2))),W(parseFloat(Math.max(R-L,0).toFixed(2))),V(!1),(0,S.QT)((0,S.JU)(v.fb,"/pad-contri/"+t.id)).then(a=>{let s=0;a.exists()&&(s=Object.keys(a.data()).length),fetch("/api/buy",{method:"POST",body:JSON.stringify({spent:L,name:t.title,contributors:s,filled:l,filledPercentage:(l/t.hardcap*100).toFixed(1),timeLeft:t.endTimestamp,signature:e,id:t.id,chatId:t.chatId,chain:t.chain.toUpperCase()}),headers:{"Content-Type":"application/json"}})})}),(0,S.QT)((0,S.JU)(v.fb,"/pad-contri/"+t.id)).then(e=>{e.exists()?e.data()[a]||(0,S.r7)((0,S.JU)(v.fb,"/pad-contri/"+t.id),{[a]:!0}):(0,S.pl)((0,S.JU)(v.fb,"/pad-contri/"+t.id),{[a]:!0})})}async function MakePaymentSol(){let e=new w.nh(t.pool),l="";V(!0);try{let t=new w.YW().add(w.yc.transfer({fromPubkey:a,toPubkey:e,lamports:Number(L)*w.j5}));t.feePayer=a,l=await z.sendTransaction(t,G.connection);let s=await confirmTransaction(l);s?AfterPayment(l):(N.A.error("Transaction Failed",{description:l}),V(!1))}catch(e){N.A.error("Transaction Failed",{description:null==e?void 0:e.message}),V(!1)}}async function MakePaymentEth(){let e=t.pool;V(!0);try{let a=(0,_.E)(P.Vp.filter(e=>e.includes(E.walletId))[0]),l=await a.connect({client:D}),s=(0,M.prepareTransaction)({to:e,value:(0,F.r0)(t.minBuy),chain:(0,A.ax)(1),client:D}),i=await (0,I.B)({transaction:s,account:l});"success"!=i.status?(N.A.error("Transaction Failed",{description:""}),V(!1)):AfterPayment(i.transactionHash)}catch(e){N.A.error("Transaction Failed",{description:null==e?void 0:e.message}),V(!1)}}return(0,j.useEffect)(()=>{a&&null!=J?(0,v.V)(a,t.id,t.maxBuy,e=>{Y(parseFloat(Math.max(Math.min(e.maxBuy-e.bought,t.hardcap-J),0).toFixed(2))),e.maxBuy-e.bought<=0&&W(0)}):Y(null)},[J,a]),(0,j.useEffect)(()=>{if(!t.pool){U(0),q(0);return}U(null),(0,S.QT)((0,S.JU)(v.fb,"/pad-contri/"+t.id)).then(e=>{e.exists()?q(Object.keys(e.data()).length):q(0)}),t.filled?U(t.hardcap):(q(null),(0,P.ct)(t.id).then(e=>{if(e){let a=Math.min(parseFloat(e.toFixed(2)),t.hardcap);U(a)}else U(0)}))},[]),(0,j.useEffect)(()=>{let e=setInterval(()=>{if(!t.pool||(J||0)>=t.hardcap){clearInterval(e);return}if(t.filled){U(t.hardcap),clearInterval(e);return}if(t.cancelled){clearInterval(e);return}U(null),q(null),(0,P.ct)(t.id).then(a=>{if(a){let l=Math.min(parseFloat(a.toFixed(2)),t.hardcap);if(U(l),l>=t.hardcap){clearInterval(e);return}}else U(0)}),(0,S.QT)((0,S.JU)(v.fb,"/pad-contri/"+t.id)).then(e=>{e.exists()?q(Object.keys(e.data()).length):q(0)})},15e3);return()=>clearInterval(e)},[]),(0,l.jsxs)("div",{className:"w-full flex items-center flex-col lg:pb-0 pt-10 max-md:pb-0 px-24 max-md:px-6 overflow-y-scroll max-h-full overflow-x-hidden",children:[(0,l.jsx)(N.x,{richColors:!0}),(0,l.jsxs)("div",{className:"flex items-start gap-4 flex-grow max-xl:flex-wrap mb-8",children:[(0,l.jsxs)("div",{className:"bg-[#101113] p-6 max-sm:px-4 rounded-2xl flex flex-col gap-8 flex-grow",children:[(0,l.jsxs)("div",{className:"flex flex-col gap-0",children:[(0,l.jsxs)("div",{className:"flex gap-8 items-start max-xl:flex-col max-xl:gap-4 max-xl:items-center",children:[(0,l.jsx)("img",{src:t.icon,className:"h-14 max-xl:h-20 rounded-full"}),(0,l.jsxs)("div",{className:"flex flex-col gap-6",children:[(0,l.jsxs)("div",{className:"flex flex-col gap-1 max-xl:items-center",children:[(0,l.jsx)("p",{className:"font-semibold text-2xl max-sm:text-xl",children:t.title}),(0,l.jsxs)("div",{className:"flex gap-3 max-md:flex-col max-xl:items-center flex-wrap",children:[(0,l.jsxs)("div",{className:"flex gap-2",children:[t.walletAddress==(a||"").toString()?(0,l.jsx)("p",{className:"border-[#feb200] border-[2px] px-2 text-sm text-[#feb200] rounded-[4px]",children:"Your Sale"}):"",(0,l.jsx)("p",{className:"bg-[#1EE1AF] p-0.5 px-2 text-sm text-black rounded-[4px]",children:"Audit"}),t.kyc?(0,l.jsx)("p",{className:"bg-[#593b85] p-0.5 px-2 text-sm text-white rounded-[4px]",children:"KYC"}):"",(0,l.jsx)("p",{className:"bg-[#feb200] p-0.5 px-2 text-sm text-black rounded-[4px]",children:"presale"==t.type?"Presale":"Fairlaunch"})]}),(0,l.jsxs)("div",{className:"flex gap-2",children:[(0,l.jsx)(m.O,{target:"_blank",href:t.telegram,children:(0,l.jsx)("img",{src:"/assets/telegram.svg",className:"h-6 hover:cursor-pointer"})}),(0,l.jsx)(m.O,{target:"_blank",href:t.x,children:(0,l.jsx)("img",{src:"/assets/twitter.svg",className:"h-5 hover:cursor-pointer"})}),(0,l.jsx)(m.O,{target:"_blank",href:t.website,children:(0,l.jsx)("img",{src:"/assets/web.svg",className:"h-[1.4rem] hover:cursor-pointer"})}),(0,l.jsx)(m.O,{target:"_blank",href:t.tiktok,children:(0,l.jsx)("img",{src:"/assets/tiktok.svg",className:"h-5 hover:cursor-pointer"})}),t.youtube?(0,l.jsx)(m.O,{target:"_blank",href:t.youtube,children:(0,l.jsx)("img",{src:"/assets/youtube.svg",className:"h-5 hover:cursor-pointer"})}):""]})]})]}),(0,l.jsx)("div",{className:"flex flex-col gap-4",children:t.description.split("\n").map(e=>(0,l.jsx)("p",{className:"text-sm max-w-2xl max-xl:text-center max-xl:hidden block",children:e}))})]})]}),(0,l.jsx)("p",{className:"text-sm max-w-2xl max-xl:block hidden text-center",children:t.description})]}),t.video?(0,l.jsx)("iframe",{src:t.video,className:"w-full h-96 max-lg:h-64 max-md:h-44 rounded-2xl bg-black"}):"",(0,l.jsx)("div",{className:"w-full",children:(0,l.jsxs)(h.n,{classNames:{tabList:"w-full border-[#feb200]",base:"w-full",tabContent:"group-data-[selected=true]:text-black text-white",cursor:"group-data-[selected=true]:bg-[#feb200]"},variant:"solid",children:[(0,l.jsx)(p.r,{title:"Token Info",children:(0,l.jsx)(InfoTable,{rows:O})}),(0,l.jsx)(p.r,{title:"Sale Info",children:(0,l.jsx)(InfoTable,{rows:[{title:"Pool",value:t.pool||"",copy:!0,tooltip:"Do not send funds directly to this address"},{title:"Sale Type",value:"Presale"},{title:"HardCap",value:t.hardcap+" "+P.zG[t.chain].ticker},{title:"SoftCap",value:t.softcap+" "+P.zG[t.chain].ticker},{title:"Liquidity Percent",value:t.liqduityPercent+"%"},{title:"Token For Sale",value:t.tokenForSale+"%"},{title:"Dex",value:t.dex},{title:"Private Sale Rate",value:t.privateSaleRate},{title:"Public Sale Rate",value:"".concat(t.minBuy," ").concat(P.zG[t.chain].ticker," = ").concat(t.publicSaleRate,"% $").concat(t.ticker)},{title:"Unsold Tokens",value:t.unsoldTokens}].filter(e=>void 0!==e.value)})})]})}),t.walletAddress==(a||"").toString()?(0,l.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,l.jsx)(u.j,{}),(0,l.jsxs)("p",{className:"text-xs",children:["Contact ",(0,l.jsx)("span",{children:(0,l.jsx)(m.O,{className:"text-xs text-[#feb200]",href:"https://t.me/CryptoG2022",children:"@CryptoG2022"})})," on Telegram for any changes"]})]}):""]}),(0,l.jsx)("div",{className:"flex flex-col gap-8 max-xl:w-full",children:(0,l.jsxs)("div",{className:"w-96 max-md:w-auto max-xl:w-full relative",children:[(0,l.jsx)("div",{className:"w-full h-full absolute flex items-center flex-col justify-center overflow-hidden rounded-2xl",children:(0,l.jsx)("div",{className:(t.cancelled||t.filled?"gradient-anim-null":"gradient-anim-two")+" w-full h-full"})}),(0,l.jsx)("div",{className:"p-0.5",children:(0,l.jsxs)("div",{className:"bg-[#101113] p-6 rounded-2xl flex flex-col gap-8 w-full",children:[(0,l.jsx)("div",{className:"justify-center flex w-full",children:(0,l.jsxs)("p",{className:"text-[#feb200v] text-sm flex gap-2",children:[(0,l.jsx)("img",{src:"/assets/dot.svg",className:t.filled||t.cancelled||Date.now()>t.endTimestamp||(J||0)>=t.hardcap?"":"animate-ping"})," ",t.cancelled?"Cancelled":Date.now()<t.startTimestamp?"Upcoming Sale":(J||0)>=t.hardcap?"Ended":Date.now()>t.endTimestamp?"Ended":t.whitelisted_wallets?isWithin15Minutes()?"WhiteListed":"Public":"Live"]})}),t.tbh?(0,l.jsx)("div",{className:"flex items-center flex-col gap-4",children:(0,l.jsxs)("div",{className:"flex gap-2",children:[(0,l.jsx)("p",{className:"bg-[#feb200] text-black p-2 px-4 rounded-lg ",children:"T"}),(0,l.jsx)("p",{className:"bg-[#feb200] text-black p-2 px-4 rounded-lg ",children:"B"}),(0,l.jsx)("p",{className:"bg-[#feb200] text-black p-2 px-4 rounded-lg ",children:"A"})]})}):(0,l.jsxs)("div",{className:"flex items-center flex-col gap-4",children:[t.whitelisted_wallets&&isWithin15Minutes()?(0,l.jsx)("p",{children:"Public starts in:"}):(0,l.jsxs)("p",{children:["Countdown to ",Date.now()<t.startTimestamp?"start":"end",":"]}),Date.now()<t.startTimestamp?(0,l.jsx)(T.I,{expiryTimestamp:t.startTimestamp}):"",Date.now()>t.endTimestamp||(J||0)>=t.hardcap?(0,l.jsx)(T.I,{expiryTimestamp:0}):"",(e=>{let t=Date.now(),{startTimestamp:a,endTimestamp:l}=e;return t>=a&&t<=l})(t)&&(J||0)<t.hardcap?(0,l.jsx)(T.I,{expiryTimestamp:t.cancelled?0:t.whitelisted_wallets&&isWithin15Minutes()?t.startTimestamp+(t.whitelistPeriod||9e5):t.endTimestamp}):""]}),(0,l.jsxs)("div",{className:"w-full flex flex-col gap-2",children:[(0,l.jsx)(f.W,{maxValue:t.hardcap,classNames:{indicator:"bg-gradient-to-r from-[#feb200] to-[#feb200]"},value:J||0}),(0,l.jsxs)("div",{className:"w-full flex justify-between",children:[(0,l.jsxs)("p",{className:"text-sm flex gap-2",children:[t.hardcap?null===J?(0,l.jsx)("div",{className:"bg-[#a238ff] p-2 rounded-md animate-pulse bg-opacity-50"}):J:"N/A"," ",P.zG[t.chain].ticker," ",(0,l.jsxs)("span",{className:"text-[#feb200]",children:["(",(J/t.hardcap*100).toFixed(1),"%)"]})]}),(0,l.jsxs)("p",{className:"text-sm",children:[t.hardcap," ",P.zG[t.chain].ticker]})]})]}),(0,l.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,l.jsx)(b.Y,{isDisabled:!a,step:1,value:L,onValueChange:e=>{W(e)},placeholder:"0",label:"Buy Amount",labelPlacement:"outside",variant:"bordered",maxLength:5,type:"number",minLength:.5}),(0,l.jsx)(g.A,{isLoading:Q,className:"p-0.5 bg-[#feb200] rounded-xl w-full text-black",isDisabled:!t.kyc||t.cancelled||t.whitelisted_wallets&&!t.whitelisted_wallets.includes((a||"").toString())&&isWithin15Minutes()||Date.now()>t.endTimestamp||Q||Date.now()<t.startTimestamp||!a||!R||J>=t.hardcap||R<=0||L>R||L<Math.min(t.minBuy,R),onClick:()=>{"sol"==t.chain?MakePaymentSol():MakePaymentEth()},children:"Buy"}),t.cancelled||!t.kyc?t.kyc?"":(0,l.jsx)("p",{className:"text-[#feb200] text-xs",children:"• Not available until KYC is completed."}):a?t.whitelisted_wallets&&!t.whitelisted_wallets.includes((a||"").toString())&&isWithin15Minutes()?(0,l.jsx)("p",{className:"text-[#feb200] text-xs",children:"• You are not WhiteListed"}):null===R?(0,l.jsx)("div",{className:"bg-white bg-opacity-5 animate-pulse rounded-full w-fit",children:(0,l.jsxs)("p",{className:"text-[#feb200] text-xs invisible w-fit",children:["• Max: 0 ",P.zG[t.chain].ticker]})}):(0,l.jsxs)("p",{className:"text-[#feb200] text-xs",children:["• Max: ",R," ",P.zG[t.chain].ticker]}):(0,l.jsx)("p",{className:"text-[#feb200] text-xs",children:"• Connect your wallet to buy"})]}),(0,l.jsxs)(s.b,{classNames:{wrapper:"shadow-none p-0 rounded-none bg-transparent",thead:"hidden",th:"hidden",tr:"border-none"},children:[(0,l.jsxs)(i.J,{children:[(0,l.jsx)(n.j,{}),(0,l.jsx)(n.j,{})]}),(0,l.jsx)(r.y,{children:[{title:"Raised so far",value:null===J?"":J+" "+P.zG[t.chain].ticker,loading:null===J},{title:"Sale Type",value:t.whitelisted_wallets?"WhiteListed":"Presale"},{title:"Min Buy",value:t.minBuy+" "+P.zG[t.chain].ticker},{title:"Max Buy",value:t.maxBuy+" "+P.zG[t.chain].ticker}].concat(t.disableContri?[]:[{title:"Contributors",value:null===X?"":X,loading:null===X}]).map(e=>(0,l.jsxs)(c.g,{children:[(0,l.jsx)(d.X,{children:e.title}),(0,l.jsx)(d.X,{className:"break-all text-right text-[#feb200] "+(e.loading?" bg-white bg-opacity-5 p-2 rounded-xl animate-pulse":"w-fit"),children:e.value})]}))})]})]})})]})})]})]})}}}]);